<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>网站标题</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1, user-scalable=no" media="(device-height:568px)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-touch-fullscreen" content="yes">
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/layout.css">
<script src="js/zepto.min.js"></script>
<script src="js/plugins.js"></script>
<script src="js/controller/init.js"></script>
</head>
<body>
<div class="wrap">
  <!-- Header File Start -->
  <div id="header" class="header">
    <header>
      <h1 id="header_title">首页</h1>
      <!-- <a class="icon onright go" href="#"></a> -->
      <!--
      <dl class="menu">
        <dt></dt>
        <dd>
          <a href="#">菜单</a>
          <a href="#">菜单</a>
          <a href="#">菜单</a>
        </dd>
      </dl>
      -->
      <dl class="menu onright">
        <dt></dt>
        <dd>
          <a href="#">菜单</a>
          <a href="#">菜单</a>
          <a href="#">菜单</a>
        </dd>
      </dl>
    </header>
  </div>
  <!-- Header File End -->

  <div class="nav_tab">
  <!-- <div class="nav_tab fixed"> -->
  <!-- <div class="nav_tab radius"> -->
  <!-- <div class="nav_tab radius fixed"> -->
    <nav>
      <a class="n" href="#">分类</a>
      <a href="#">分类</a>
      <a href="#">分类</a>
      <a href="#">分类</a>
      <a href="#">分类</a>
    </nav>
  </div>

  <div id="home_slide" class="slide home_slide">
    <ul class="box">
      <li>
        <div class="item" style="background-image:url(http://placehold.it/640x360)"></div>
      </li>
      <li>
        <div class="item" style="background-image:url(http://placehold.it/640x360)"></div>
      </li>
      <li>
        <div class="item" style="background-image:url(http://placehold.it/640x360)"></div>
      </li>
    </ul>
  </div>

  <div class="mbox mt">
    <div class="detail">
      <h3>Loading</h3>
      <div class="loading"></div>
      <h3>加载提示</h3>
      <div class="pull_more"></div>
    </div>
  </div>

  <!-- Footer File Start -->
  <div id="footer_nav" class="footer_nav">
    <nav>
      <a href="index.html">首页</a>
      <a href="detail.html">文章</a>
      <a href="_test/index.html">示例</a>
      <a href="https://github.com/ciaoca/cxBase">Github</a>
    </nav>
  </div>
  <!-- Footer File End -->
</div>

<script src="js/controller/ready.js"></script>
<script>
(function() {
  var start = 0;
  var slideBox = $('#home_slide');
  var slideBtns = $('<div></div>', {class: 'btns'});
  var slideSum = slideBox.find('li').length;
  var _html = '';

  for (var i = slideSum - 1; i >= 0; i--) {
    _html += '<i></i>';
  };

  slideBtns.append(_html).appendTo(slideBox);

  var toggleBtn = function(n){
    // 只有两个展示项时，序号与预期不符
    if (slideSum === 2 && n > 1) {
      n -= 2;
    };

    slideBtns.find('i').removeClass('n').eq(n).addClass('n');
  };

  var mySwipe = new Swipe(slideBox[0], {
    speed: 600,
    auto: 5000,
    callback: function(index) {
      toggleBtn(index);
    },
    transitionEnd: function(index) {
      // console.log(index);
    }
  });

  toggleBtn(start);
})();
</script>
</body>
</html>

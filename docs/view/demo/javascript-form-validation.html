<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>表单验证 - cxStyle</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-touch-fullscreen" content="yes">
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" href="../../static/css/cxm.css">
<link rel="stylesheet" href="../../static/demo/css/layout.css">
<script src="../../static/js/zepto.min.js"></script>
<script src="../../static/default/js/plugins.js"></script>
<script src="../../static/default/js/init.js"></script>
</head>
<body class="gray">
<div class="wrap">
  <div id="header" class="header">
    <header>
      <h1>表单验证</h1>
      <a class="icon back" href="index.html"></a>
    </header>
  </div>

  <div class="mbox mb">
    <div class="detail">
      <p>在<code>input</code>、<code>textarea</code>、<code>select</code>的属性<code>data-validation</code>中设置验证规则。</p>
      <p>查看完整文档：<a target="_blank" class="link blue" href="http://code.ciaoca.com/javascript/cxValidation/">cxValidation</a></p>
    </div>
  </div>

  <form action="../../../ajax/default.php?nextUrl=reload" method="get" id="test_form" class="form">
    <div class="mbox">
      <h2 class="demo_title">Required</h2>
    </div>
    <div class="row_group">
      <dl class="row">
        <dt>用户名</dt>
        <dd><input type="text" class="input full" data-validation="required" data-validation-title="用户名"></dd>
        <!-- <dd><input type="text" class="input full" data-validation="required,call[vaildUserName]"></dd> -->
        <!-- <dd><input type="text" class="input full" data-validation="required,call[vaildUserName]" data-validation-message='用户名不符合规范'></dd> -->
        <!-- <dd><input type="text" class="input full" data-validation="required,call[vaildUserName]" data-validation-message='{"required":"该项为必填"}'></dd> -->
        <!-- <dd><input type="text" class="input full" data-validation="required,call[vaildUserName]" data-validation-message='{"required":"该项为必填","call":"用户名不符合规范"}'></dd> -->
      </dl>
      <dl class="row">
        <dt>密码</dt>
        <dd><input type="password" id="pwd" class="input full" data-validation="required" data-validation-title="密码"></dd>
      </dl>
      <dl class="row">
        <dt>再次输入</dt>
        <dd><input type="password" class="input full" data-validation="equals[pwd]" data-validation-title="密码"></dd>
      </dl>
    </div>

    <div class="mbox">
      <h3 class="demo_title">Checkbox</h3>
    </div>
    <div class="row">
      <input type="checkbox" name="_checkbox" id="checkbox_1" class="checkbox" data-validation="groupRequired[check1][2]" data-validation-title="Checkbox">
      <label for="checkbox_1">多选项1</label>
      <input type="checkbox" name="_checkbox" id="checkbox_2" class="checkbox" data-validation="groupRequired[check1][2]" data-validation-title="Checkbox">
      <label for="checkbox_2">多选项2</label>
      <input type="checkbox" name="_checkbox" id="checkbox_3" class="checkbox" data-validation="groupRequired[check1][2]" data-validation-title="Checkbox">
      <label for="checkbox_3">多选项3</label>
    </div>

    <div class="mbox">
      <h3 class="demo_title">Radio</h3>
    </div>
    <div class="row">
      <input type="radio" name="_radio" id="radio_1" class="radio" data-validation="groupRequired[radio1]" data-validation-title="radio">
      <label for="radio_1">单选项1</label>
      <input type="radio" name="_radio" id="radio_2" class="radio" data-validation="groupRequired[radio1]" data-validation-title="radio">
      <label for="radio_2">单选项2</label>
      <input type="radio" name="_radio" id="radio_3" class="radio" data-validation="groupRequired[radio1]" data-validation-title="radio">
      <label for="radio_3">单选项3</label>
    </div>

    <div class="mbox">
      <h3 class="demo_title">minSize[int], maxSize[int]</h3>
    </div>
    <div class="row_group">
      <div class="row">
        <input type="text" class="input full" placeholder="最少3个字符" data-validation="minSize[3]" data-validation-title="minSize">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="最多10个字符" data-validation="maxSize[10]" data-validation-title="maxSize">
      </div>
    </div>

    
    <div class="mbox">
      <h3 class="demo_title">min[int], max[int]</h3>
    </div>
    <div class="row_group">
      <div class="row">
        <input type="text" class="input full" placeholder="最小值为3" data-validation="min[3]" data-validation-title="min">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="最大值为10" data-validation="max[10]" data-validation-title="max">
      </div>
    </div>

    
    <div class="mbox">
      <h3 class="demo_title">integer, number</h3>
    </div>
    <div class="row_group">
      <div class="row">
        <input type="text" class="input full" placeholder="输入整数" data-validation="integer" data-validation-title="integer">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="输入数值" data-validation="number" data-validation-title="number">
      </div>
    </div>

    
    <div class="mbox">
      <h3 class="demo_title">Only</h3>
    </div>
    <div class="row_group">
      <div class="row">
        <input type="text" class="input full" placeholder="只能输入数字（0-9）" data-validation="onlyNumber" data-validation-title="onlyNumber">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="只能输入数字和空格" data-validation="onlyNumberSp" data-validation-title="onlyNumberSp">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="只能输入英文字母" data-validation="onlyLetter" data-validation-title="onlyLetter">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="只能输入英文字母和空格" data-validation="onlyLetterSp" data-validation-title="onlyLetterSp">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="只能输入英文字母和数字" data-validation="onlyLetterNumber" data-validation-title="onlyLetterNumber">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="只能输入英文字母、数字、空格" data-validation="onlyLetterNumberSp" data-validation-title="onlyLetterNumberSp">
      </div>
    </div>

    
    <div class="mbox">
      <h3 class="demo_title">email, phone, url</h3>
    </div>
    <div class="row_group">
      <div class="row">
        <input type="text" class="input full" placeholder="输入电子邮件" data-validation="email" data-validation-title="email">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="输入电话号码" data-validation="phone" data-validation-title="phone">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="输入网址" data-validation="url" data-validation-title="url">
      </div>
    </div>

    
    <div class="mbox">
      <h3 class="demo_title">chinese, chinaId, chinaIdLoose</h3>
    </div>
    <div class="row_group">
      <div class="row">
        <input type="text" class="input full" placeholder="输入中文" data-validation="chinese" data-validation-title="chinese">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="输入身份证号码" data-validation="chinaId" data-validation-title="chinaId">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="输入身份证号码（兼容旧15位）" data-validation="chinaIdLoose" data-validation-title="chinaIdLoose">
      </div>
    </div>

    
    <div class="mbox">
      <h3 class="demo_title">chinaZip, qq</h3>
    </div>
    <div class="row_group">
      <div class="row">
        <input type="text" class="input full" placeholder="输入邮政编码" data-validation="chinaZip" data-validation-title="chinaZip">
      </div>
      <div class="row">
        <input type="text" class="input full" placeholder="输入QQ号码" data-validation="qq" data-validation-title="qq">
      </div>
    </div>

    <div class="mbox mt2">
      <button type="submit" class="button full primary">验证表单</button>
    </div>
  </form>

  <footer class="footer"></footer>
</div>

<script src="../../static/js/cxvalidation.min.js"></script>
<script src="../../static/default/js/ready.js"></script>
<script>
/**
 * 自定义验证方法
 * return
 * status: 验证结果（必须包含）
 * message: 错误提示信息，可根据不同条件返回不同提示语
**/
var vaildUserName = function(value) {
  if (/^\d+/.test(value)) {
    return {
      status: false,
      message: '用户名不能以数字开头'
    };

  } else if (value.length < 2) {
    return {
      status: false,
      message: '用户名最少2个字符'
    };
  };
};

(function() {
  var form = $('#test_form');

  cxValidation.attach(form, {
    success: function() {
      console.log('验证通过');
    }
  });
})();
</script>
</body>
</html>
